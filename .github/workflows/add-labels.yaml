# .github/workflows/add-labels.yml

name: Add Labels
on:
  workflow_call:
    inputs:
      labels:
        description: "Comma-separated list of labels"
        required: true
        type: string

jobs:
  add-labels:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write

    steps:
      - name: Add labels to issue or PR
        uses: actions/github-script@v7
        with:
          script: |
            const labels = core.getInput('labels').split(',').map(l => l.trim());
            const number = context.issue.number;
            if (!number) {
              core.setFailed("No issue or PR number found.");
              return;
            }
            await github.rest.issues.addLabels({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: number,
              labels
            });
        env:
          labels: ${{ inputs.labels }}
